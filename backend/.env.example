# ============================================
# VPACK - Backend Environment Configuration
# ============================================
# Copy this file to .env and configure your values

# ============================================
# DEPLOYMENT MODE
# ============================================
# Deployment mode affects path resolution and configuration
# Options: development, docker, production, installed
VTRACK_DEPLOYMENT_MODE=development

# Docker deployment flag
VTRACK_IN_DOCKER=false

# ============================================
# DIRECTORY CONFIGURATION
# ============================================
# Base directory for application data
# Auto-detected if not set based on deployment mode:
# - development: <project>/var/
# - docker: /app/
# - production: <exe_dir>/
# - installed: ~/.local/share/vtrack/
VTRACK_BASE_DIR=

# Input video directory
# Auto-detected OS-specific defaults:
# - Windows: C:\Users\<username>\Videos\VTrack\Input
# - macOS: /Users/<username>/Movies/VTrack/Input
# - Linux: /home/<username>/Videos/VTrack/Input
VTRACK_INPUT_DIR=

# Output video directory
# Auto-detected OS-specific defaults:
# - Windows: C:\Users\<username>\Videos\VTrack\Output
# - macOS: /Users/<username>/Movies/VTrack/Output
# - Linux: /home/<username>/Videos/VTrack/Output
VTRACK_OUTPUT_DIR=

# Flask session directory
# Default: <BASE_DIR>/var/flask_session
VTRACK_SESSION_DIR=

# ============================================
# DATABASE CONFIGURATION
# ============================================
# Database file path
# Default: Based on deployment mode
# - development: backend/VTrack_db.db
# - docker/production/installed: <BASE_DIR>/VTrack_db.db
DB_PATH=

# ============================================
# FLASK CONFIGURATION
# ============================================
# Flask environment (development or production)
FLASK_ENV=development

# Debug mode (true or false)
# WARNING: NEVER enable in production!
DEBUG=false

# Secret key for session encryption
# Generate with: python -c "import secrets; print(secrets.token_urlsafe(32))"
# REQUIRED for production!
SECRET_KEY=

# Flask host (0.0.0.0 to accept external connections)
FLASK_HOST=0.0.0.0

# Flask port
FLASK_PORT=8080

# ============================================
# CLOUD FUNCTIONS INTEGRATION
# ============================================
# Google Cloud Function endpoints for payment/license system
# REQUIRED for production deployment

# Payment creation endpoint
CLOUD_PAYMENT_URL=https://asia-southeast1-v-track-payments.cloudfunctions.net/create-payment

# Payment webhook handler endpoint
CLOUD_WEBHOOK_URL=https://asia-southeast1-v-track-payments.cloudfunctions.net/webhook-handler

# License service endpoint
CLOUD_LICENSE_URL=https://asia-southeast1-v-track-payments.cloudfunctions.net/license-service

# ============================================
# GOOGLE OAUTH & DRIVE INTEGRATION
# ============================================
# Google OAuth 2.0 credentials
# Get from: https://console.cloud.google.com/apis/credentials
# Required for Google Drive integration

GOOGLE_CLIENT_ID=your-client-id.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=your-client-secret

# OAuth redirect URI (must match Google Console configuration)
GOOGLE_REDIRECT_URI=http://localhost:8080/oauth2callback

# ============================================
# PAYOS PAYMENT INTEGRATION
# ============================================
# PayOS payment gateway credentials
# Get from: https://payos.vn

PAYOS_CLIENT_ID=
PAYOS_API_KEY=
PAYOS_CHECKSUM_KEY=

# Payment return URLs
PAYOS_RETURN_URL=http://localhost:8080/payment-return
PAYOS_CANCEL_URL=http://localhost:8080/payment-cancel

# ============================================
# AI/ML CONFIGURATION
# ============================================
# MediaPipe configuration
MEDIAPIPE_DISABLE_GPU=1

# TensorFlow logging level (0=all logs, 3=errors only)
TF_CPP_MIN_LOG_LEVEL=3

# Python warnings control
PYTHONWARNINGS=ignore

# ============================================
# VIDEO PROCESSING DEFAULTS
# ============================================
# Default frame rate for video processing (FPS)
DEFAULT_FRAME_RATE=30

# Default frame interval (process every Nth frame)
DEFAULT_FRAME_INTERVAL=5

# Default video buffer duration (seconds)
DEFAULT_VIDEO_BUFFER=10

# Default storage duration (days)
DEFAULT_STORAGE_DURATION=30

# Default packing time range (seconds)
DEFAULT_MIN_PACKING_TIME=20
DEFAULT_MAX_PACKING_TIME=40

# ============================================
# LOGGING CONFIGURATION
# ============================================
# Log level (DEBUG, INFO, WARNING, ERROR, CRITICAL)
LOG_LEVEL=INFO

# Enable event processing logs
ENABLE_EVENT_LOGS=true

# Log file rotation (days)
LOG_RETENTION_DAYS=7

# ============================================
# SECURITY CONFIGURATION
# ============================================
# CORS allowed origins (comma-separated)
# Development: http://localhost:3000
# Production: https://your-domain.com
CORS_ORIGINS=http://localhost:3000,http://localhost:8080

# Session timeout (seconds)
SESSION_TIMEOUT=86400

# Maximum upload file size (MB)
MAX_UPLOAD_SIZE_MB=500

# ============================================
# DATABASE CONFIGURATION
# ============================================
# SQLite WAL mode (recommended for concurrent access)
SQLITE_WAL_MODE=true

# Database connection pool size
DB_POOL_SIZE=5

# Database timeout (seconds)
DB_TIMEOUT=10

# ============================================
# SCHEDULER CONFIGURATION
# ============================================
# Enable background scheduler
ENABLE_SCHEDULER=true

# Scheduler timezone
SCHEDULER_TIMEZONE=Asia/Ho_Chi_Minh

# ============================================
# DEVELOPMENT & DEBUGGING
# ============================================
# Enable development mode (more verbose logging)
DEV_MODE=false

# Enable Flask auto-reload
FLASK_AUTO_RELOAD=false

# Enable profiling
ENABLE_PROFILING=false

# ============================================
# PRODUCTION WSGI SERVER
# ============================================
# Uncomment for production deployment

# Gunicorn workers
# GUNICORN_WORKERS=4

# Gunicorn bind address
# GUNICORN_BIND=0.0.0.0:8080

# Gunicorn timeout (seconds)
# GUNICORN_TIMEOUT=120
